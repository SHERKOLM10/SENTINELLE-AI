<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sentinelle IA - {% block title %}{% endblock %}</title>
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
  <!-- Liens CSS et JS externes -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <!-- Conteneur principal qui g√®re la mise en page Flexbox -->
  <div class="d-flex" id="wrapper">

    <!-- ENFANT 1 : La barre lat√©rale (Sidebar) -->
    <nav id="sidebar" class="bg-dark text-white">
      <div class="sidebar-header text-center py-4">
        <h4>üõ°Ô∏èSentinelle IA</h4>
      </div>
      <ul class="nav flex-column px-2">
        <li class="nav-item mb-2"><a class="nav-link text-white" href="{{ url_for('dashboard') }}"><i class="bi bi-speedometer2 me-2"></i> Dashboard</a></li>
        <li class="nav-item mb-2"><a class="nav-link text-white" href="{{ url_for('incidents') }}"><i class="bi bi-exclamation-triangle me-2"></i> Incidents</a></li>
        <li class="nav-item mb-2"><a class="nav-link text-white" href="{{ url_for('logs') }}"><i class="bi bi-terminal-split me-2"></i> Logs</a></li>
        <a class="nav-link text-white" href="{{ url_for('page_assistant_ia') }}"><i class="bi bi-robot me-2"></i> IA Assistante</a>
        <li class="nav-item mb-2"><a class="nav-link text-white" href="{{ url_for('appareils') }}"><i class="bi bi-hdd-network me-2"></i> Appareils connect√©s</a></li>
        <li class="nav-item mb-2"><a class="nav-link text-white" href="{{ url_for('admins') }}"><i class="bi bi-people me-2"></i>Gestionnaire<br>d'utilisateurs</a></li>
        <li class="nav-item mt-4"><a class="nav-link text-danger" href="{{ url_for('logout') }}"><i class="bi bi-box-arrow-right me-2"></i> D√©connexion</a></li>
      </ul>
    </nav>

    <!-- ENFANT 2 : Le conteneur du contenu principal, qui aura sa propre barre de d√©filement -->
    <div id="page-content-wrapper" class="bg-light">

      <!-- Barre de navigation sup√©rieure (avec le bouton menu) qui restera visible au d√©filement -->
      <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom sticky-top">
          <div class="container-fluid">
              <button class="btn btn-primary" id="menu-toggle">‚ò∞ Menu</button>
          </div>
      </nav>

      <!-- Conteneur pour le contenu avec un padding interne -->
      <div class="content-padding">
        {% block content %}{% endblock %}
      </div>

    </div>
  </div>

  <!-- Bloc pour les scripts sp√©cifiques √† chaque page -->
  {% block scripts %}{% endblock %}

  <!-- Script global pour le bouton menu (doit √™tre sur toutes les pages) -->
  <script>
    document.getElementById("menu-toggle").addEventListener("click", function(e) {
        e.preventDefault();
        document.getElementById("wrapper").classList.toggle("toggled");
    });
  </script>

</body>
</html>